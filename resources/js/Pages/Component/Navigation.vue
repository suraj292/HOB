<template>
    <!-- mobile-menu start -->
    <div class="mobile-menu-active">
        <div class="mobile-menu-all-wrap">
            <a class="mobile-menu-close"><i class="lastudioicon-e-remove"></i></a>
            <div class="mobile-menu-content">
                <div class="mobile-search">
                    <form action="#">
                        <input type="text" placeholder="Search entire store…">
                        <button><i class="lastudioicon-zoom-1"></i></button>
                    </form>
                </div>
                <div class="mobile-menu-wrap">
                    <!-- mobile menu start -->
                    <div class="mobile-navigation">
                        <!-- mobile menu navigation start -->
                        <nav>
                            <ul class="mobile-menu">
                                <li class="menu-item-has-children"><a href="index-2.html">Home</a>
                                    <ul class="dropdown">
                                        <li><a href="index-2.html">Fashion Demo 01 </a></li>
                                        <li><a href="index-3.html">Fashion Demo 02 </a></li>
                                        <li><a href="index-electronic.html">Electronic Demo </a></li>
                                        <li><a href="index-auto-parts.html">Auto Parts Demo </a></li>
                                        <li><a href="index-leather.html">Leather Demo </a></li>
                                        <li><a href="index-cosmetic-beauty.html">Cosmetic & Beauty Demo </a></li>
                                        <li><a href="index-organic.html">Organic Demo </a></li>
                                        <li><a href="index-motorbikes.html">Motorbikes Demo </a></li>
                                        <li><a href="index-kids-store.html">Kids Store Demo </a></li>
                                        <li><a href="index-plants.html">Plants Demo </a></li>
                                        <li><a href="index-furniture.html">Furniture Demo </a></li>
                                        <li><a href="index-jewelry.html">Jewelry Demo </a></li>
                                    </ul>
                                </li>
                                <li class="menu-item-has-children"><a href="#">Pages</a>
                                    <ul class="dropdown">
                                        <li><a href="about-us.html">About Us</a></li>
                                        <li><a href="team.html">Our Team</a></li>
                                        <li><a href="team-2.html">Our Team 02</a></li>
                                        <li><a href="team-details.html">Team Details</a></li>
                                        <li><a href="faq.html">FAQs</a></li>
                                        <li><a href="faq-2.html">FAQs 02</a></li>
                                        <li class="menu-item-has-children"><a href="#">Coming Soon</a>
                                            <ul class="dropdown">
                                                <li><a href="coming-soon.html">Coming Soon 01</a></li>
                                                <li><a href="coming-soon-2.html">Coming Soon 02</a></li>
                                                <li><a href="coming-soon-3.html">Coming Soon 03</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li class="menu-item-has-children "><a href="#">Products </a>
                                    <ul class="dropdown">
                                        <li class="menu-item-has-children"><a href="#">Shop Layout</a>
                                            <ul class="dropdown">
                                                <li><a href="shop.html">Shop Left Sidebar</a></li>
                                                <li><a href="shop-right-sidebar.html">Shop Right Sidebar</a></li>
                                                <li><a href="shop-fullwidth.html">Shop Fullwidth</a></li>
                                                <li><a href="shop-collection-1.html">Shop by Collection 01</a></li>
                                                <li><a href="shop-collection-2.html">Shop by Collection 02</a></li>
                                                <li><a href="shop-parallax.html">Shop Parallax Collection</a></li>
                                                <li><a href="shop-vendor.html">Shop Vendor</a></li>
                                                <li><a href="shop-custom-header.html">Shop Custom Header</a></li>
                                                <li><a href="shop-instagram.html">Shop by Instagram</a></li>
                                                <li><a href="shop-carousel.html">Shop Carousel Slider</a></li>
                                                <li><a href="shop-filter-tab.html">Shop With Filter Tabs</a></li>
                                                <li><a href="shop-custom-layout-1.html">Custom Layout 01</a></li>
                                                <li><a href="shop-custom-layout-2.html">Custom Layout 02</a></li>
                                            </ul>
                                        </li>
                                        <li class="menu-item-has-children"><a href="#">Products Layout</a>
                                            <ul class="dropdown">
                                                <li><a href="product-details.html">Simple 01</a></li>
                                                <li><a href="product-details-2.html">Simple 02</a></li>
                                                <li><a href="product-details-configurable.html">Product Variable</a></li>
                                                <li><a href="product-details-group.html">Product Grouped</a></li>
                                                <li><a href="product-details-affiliate.html">Product Affiliate</a></li>
                                                <li><a href="product-details-sticky.html">Product Sticky</a></li>
                                                <li><a href="product-details-thumbnail.html">Product Thumbnail</a></li>
                                                <li><a href="product-details-custom-style.html">Product Custom Style</a></li>
                                            </ul>
                                        </li>
                                        <li class="menu-item-has-children"><a href="#">Shop Pages</a>
                                            <ul class="dropdown">
                                                <li><a href="cart.html">Shopping Cart</a></li>
                                                <li><a href="checkout.html">Check Out</a></li>
                                                <li><a href="my-account.html">My Account</a></li>
                                                <li><a href="wishlist.html">Wishlist</a></li>
                                                <li><a href="compare.html">Compare</a></li>
                                                <li><a href="order-tracking.html">Order Tracking</a></li>
                                                <li><a href="login-register.html">Login Register</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li class="menu-item-has-children "><a href="#">Blog</a>
                                    <ul class="dropdown">
                                        <li><a href="blog.html">Left Sidebar</a></li>
                                        <li><a href="blog-right-sidebar.html">Right Sidebar</a></li>
                                        <li><a href="blog-no-sidebar.html">No Sidebar</a></li>
                                        <li><a href="blog-custom-style.html">Custom Layout</a></li>
                                        <li><a href="blog-details.html">Single Post</a></li>
                                    </ul>
                                </li>
                                <li class="menu-item-has-children"><a href="#">Contact Us </a>
                                    <ul class="dropdown">
                                        <li><a href="contact-us.html">Contact Us 01</a></li>
                                        <li><a href="contact-us-2.html">Contact Us 02</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </nav>
                        <!-- mobile menu navigation end -->
                    </div>
                    <!-- mobile menu end -->
                </div>
                <div class="mobile-contact-info">
                    <ul>
                        <li><i class="lastudioicon-phone-call-2"></i> (+612) 2531 5600</li>
                        <li><i class="lastudioicon-email"></i> Info@HasTech.com</li>
                        <li><i class="lastudioicon-home"></i> PO Box 1622 Colins Street West Australia</li>
                    </ul>
                </div>
                <div class="mobile-social-icon mb-15">
                    <a href="#"><i class="lastudioicon-b-facebook"></i></a>
                    <a href="#"><i class="lastudioicon-b-twitter"></i></a>
                    <a href="#"><i class="lastudioicon-b-pinterest-circled"></i></a>
                    <a href="#"><i class="lastudioicon-b-instagram"></i></a>
                </div>
                <div class="mobile-copyright">
                    <p>Copyright © 2023 HasThemes | <a href="https://hasthemes.com/">Built with LAURIEL by HasThemes</a>.</p>
                </div>
            </div>
        </div>
    </div>
    <!-- aside start -->
    <div class="header-aside-active header-aside-active-left">
        <div class="header-aside-wrap">
            <a class="aside-close"><i class="lastudioicon-e-remove"></i></a>
            <div class="header-aside-content">
                <div class="header-aside-menu">
                    <nav>
                        <ul>
                            <li><a href="about-us.html">About Lauriel</a></li>
                            <li><a href="contact-us.html">Help Center</a></li>
                            <li><a href="shop.html">Collection</a></li>
                            <li><a href="blog.html">Blog</a></li>
                            <li><a href="shop.html">New Look</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="aside-banner">
                    <a href="product-details.html"><img src="/assets/images/banner/aside-banner.jpg" alt="banner"></a>
                </div>
                <div class="aside-contact-info">
                    <ul>
                        <li>(+612) 2531 5600</li>
                        <li>Info@HasTech.com</li>
                        <li>PO Box 1622 Colins Street West Victoria 8077 Australia</li>
                    </ul>
                </div>
                <div class="aside-social-icon mb-25">
                    <a href="#"><i class="lastudioicon-b-facebook"></i></a>
                    <a href="#"><i class="lastudioicon-b-twitter"></i></a>
                    <a href="#"><i class="lastudioicon-b-pinterest-circled"></i></a>
                    <a href="#"><i class="lastudioicon-b-instagram"></i></a>
                </div>
                <div class="aside-payments">
                    <img src="/assets/images/icon-img/payments.png" alt="banner">
                </div>
                <div class="copyright-2">
                    <p>© 2023 <a href="https://hasthemes.com/">Lauriel.</a> All rights reserved</p>
                </div>
            </div>
        </div>
    </div>
    <!-- search start -->
    <div class="search-style-2 main-search-active">
        <a href="#" class="search2-close"><i class="lastudioicon-e-remove"></i></a>
        <div class="search-content-2">
            <p>Start typing and press Enter to search</p>
            <form class="search-form-style-2" action="#">
                <input type="text" placeholder="Search">
                <button><i class="lastudioicon-zoom-1"></i></button>
            </form>
        </div>
    </div>
    <!-- mini cart start -->
    <div class="sidebar-cart-active">
        <div class="sidebar-cart-all">
            <a class="cart-close" href="#"><i class="lastudioicon-e-remove"></i></a>
            <div class="cart-content">
                <h3>Shopping Cart</h3>
                <ul>
                    <li class="single-product-cart" v-for="(product, index) in cart" :key="index">
                        <div class="cart-img">
                            <a href="#"><img :src="product.image" alt=""></a>
                        </div>
                        <div class="cart-title">
                            <h4><a href="product-details.html">{{  product.title }}</a></h4>
                            <span v-if="product.offer"> {{ product.quantity }} × ₹{{ product.offer }}	</span>
                            <span v-else> {{ product.quantity }} × ₹{{ product.price }}	</span>
                        </div>
                        <div class="cart-delete">
                            <a @click="removeCart(product.id)">×</a>
                        </div>
                    </li>
                </ul>
                <div class="cart-total">
                    <h4>Subtotal: <span>₹{{ cartTotalAmount() }}</span></h4>
                </div>
                <div class="cart-checkout-btn">
                    <router-link class="btn-hover cart-btn-style" :to="{name: 'cart'}">view cart</router-link>
                    <router-link class="no-mrg btn-hover cart-btn-style" :to="{ name: 'checkout' }">checkout</router-link>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
import {mapState} from "pinia";
import {StoreCart} from "@/StoreCart";
export default {
    name: "Navigation",
    computed:{
        ...mapState(StoreCart, ['cart'])
    },
    methods:{
        cartTotalAmount() {
            let total = 0;
            for (let item in this.cart) {
                if (this.cart[item].offer){
                    var amount =  this.cart[item].offer
                }else {
                    var amount =  this.cart[item].price
                }
                total = total + (this.cart[item].quantity * amount)
            }
            return total;
        },
        removeCart(id){
            StoreCart().removeProduct(id)
        },
    },
    mounted() {
        // console.log(this.cart)
    }
}
</script>

<style scoped>

</style>
